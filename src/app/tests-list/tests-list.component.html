<mat-form-field appearance="fill">
  <mat-label>Проект</mat-label>
  <mat-select [(ngModel)]="selectedProject">
    <mat-option *ngFor="let project of projectList" [value]="project.id">
      {{project.name}}
    </mat-option>
  </mat-select>
</mat-form-field>

<mat-form-field appearance="fill">
  <mat-label>Версия</mat-label>
  <mat-select [(ngModel)]="selectedVersion">
    <mat-option *ngFor="let ver of projectVersion" [value]="ver.versionID">
      {{ver.version}}
    </mat-option>
  </mat-select>
</mat-form-field>

<button mat-raised-button color="primary" (click)="fetchTests()">Применить</button>
<button mat-button (click)="firstAccordion.openAll()">Expand All</button>
<button mat-button (click)="firstAccordion.closeAll()">Collapse All</button>


<!--рабочая-->
<!--<div *ngFor="let date of testData">-->
<!--  <h2 >{{date.subsystemName}}</h2>-->
<!--  <ul>-->
<!--    <li *ngFor="let item of date.data">{{item.testName}}</li>-->
<!--  </ul>-->
<!--</div>-->

<mat-accordion #firstAccordion="matAccordion" multi="true">
  <mat-expansion-panel *ngFor="let date of testData">
    <mat-expansion-panel-header class="example-headers-align">
      <mat-panel-title>
        {{date.subsystemName}}
      </mat-panel-title>
      <mat-panel-description>
        {{date.data[0].dev}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p *ngFor="let test of date.data">{{test.testName}}</p>
  </mat-expansion-panel>
</mat-accordion>

<div *ngIf="isLoading">
  <h2>Сделайте свой выбор...</h2>
</div>

<mat-card *ngIf="isLoading" style="display: flex; justify-content: center; align-items: center">
  <mat-progress-bar mode="buffer"></mat-progress-bar>
</mat-card>

<app-scroll-to-top></app-scroll-to-top>
